
<head>
	 <title>Surfeit Alpha</title>
  
  <%= stylesheet_link_tag "style", :media => "all" %>
  <link href='http://fonts.googleapis.com/css?family=Economica:700,400italic' rel='stylesheet' type='text/css'>
</head>

<body>

<nav id="site-nav" class="meny">
    <h1><a href="index.html">Surfeit</a></h1>
    
      Welcome, <%= User.find_by_id(session[:user_id]).name %> | 
    

  <section id="options">
   <div class="option-combo">
      <!--
<h2>Filter:</h2>
      
      <ul id="filter" class="option-set clearfix" data-option-key="filter">
        <li><a href="#show-all" data-option-value="*" class="selected">All</a></li>
        <li><a href="#elements" data-option-value=".facebook">Facebook</a></li>
        <li><a href="#features" data-option-value=".twitter">Twitter</a></li>
        <li><a href="#features" data-option-value=".instagram">InstaGram</a></li>
        <li><a href="#features" data-option-value=".youtube">Youtube</a></li>
        <li><a href="#features" data-option-value=".rss">RSS</a></li>
        
      </ul>
-->
      
      <h2>Filter 2.0</h2>
      
      <ul id="filters">
		  <li><a href="#" data-filter=".facebook"><span class="fbGlowIcon">F</span></a></li>
		  <li><a href="#" data-filter=".twitter"><span class="twitterGlowIcon">L</span></a></li>
		  <li><a href="#" data-filter=".instagram"><span class="instaGlowIcon">D</span></a></li>
		  <li><a href="#" data-filter=".rss"><span class="rssGlowIcon">R</span></a></li>
	  </ul>
	  <!--

      <h2>Sort:</h2>
      <ul id="sort" class="option-set clearfix" data-option-key="sortBy">
        <li><a href="#mixed" data-option-value="originType" >Origin</a></li>
        <li><a href="#original" data-option-value="original-order" class="selected">Recent</a></li>
      </ul>
      
      
-->
     <!--
 Prepend:
      <ul class="clearfix">
      <li id="prepend"><a href='#prepend'>Prepend</a></li>
      </ul>
    </div>
      
-->
      </section>
      <br><br>  
      <div class="lower_nav_links">
      <%= link_to 'My Stash', stashes_path %><br>  
      <%= link_to 'Manage Networks', edit_authorizations_path %><br>
      <%= link_to 'My Account', current_user %>
      </div>

  </nav> <!-- #site-nav -->
  
  
  
  <div class="contents">
  
  
  <div id="container" class="super-list variable-sizes clearfix">
    
	
	<div class="blackout"></div>
	
	<div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test 2</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
      <p class="dateStamp">FUCK YOU ALL BITCHES</p>
    </div>

    <% @mediafeed.data.each do |media| %>
    <div class="element width2 height2 instagram">
    <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
    <img src="<%= media.images.first.last.url%>" style="width: 100%; height: 100%">
    <p style="display: none"><%= media.likes.first.last%></p>
    </div>
    <% end%> 
    
    <% (@graph_data || []).each do |status| %>
    <% if status["message"]%>
    <div class="element width2 facebook">
      <p class="originType">F</p>
      <h3 class="symbol"><%=status["from"]["name"]%></h3>
      <h2 class="name"><%=status["message"]%></h2>
      <p class="dateStamp"><%=status["updated_time"] %></p>
    </div>
    <%end%>
    <%end%>
   
     <div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
    </div>

    
        <div class="element rss width2">
      <p class="originType">R</p>
      <h3 class="symbol">Gizmodo</h3>
      <h2 class="name"><a href="http://gizmodo.com/5959068/a-week-with-the-ipad-mini"  target="_blank" style="position: relative">A week with iPad Mini</a></h2>
    </div>
    	
    
     <div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
    </div>
    
    
     <div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
    </div>
    
     <div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
    </div>

    
        <div class="element rss width2">
      <p class="originType">R</p>
      <h3 class="symbol">Gizmodo</h3>
      <h2 class="name"><a href="http://gizmodo.com/5959068/a-week-with-the-ipad-mini"  target="_blank" style="position: relative">A week with iPad Mini</a></h2>
    </div>
    	
    
     <div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
    </div>

 <div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
    </div>
    
     <div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
    </div>
    
        <div class="element rss width2">
      <p class="originType">R</p>
      <h3 class="symbol">Gizmodo</h3>
      <h2 class="name"><a href="http://gizmodo.com/5959068/a-week-with-the-ipad-mini"  target="_blank" style="position: relative">A week with iPad Mini</a></h2>
    </div>
    	
    
     <div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
    </div>

 <div class="element twitter width2">
	 <div class="smokeScreen">
    	<%= image_tag "stache.svg", :class => 'stache' %>
    	<%= image_tag "expand.svg", :class => 'expand' %>
    	<%= image_tag "contract.svg", :class => 'shrinkRay' %>
    </div>
      <p class="originType">L</p>
      <h3 class="symbol">Test</h3>
      <h2 class="name"> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</h2>
    </div>
    
        <div class="element rss width2">
      <p class="originType">R</p>
      <h3 class="symbol">Gizmodo</h3>
      <h2 class="name"><a href="http://gizmodo.com/5959068/a-week-with-the-ipad-mini"  target="_blank" style="position: relative">A week with iPad Mini</a></h2>
    </div>
    	
    
     <div class="element twitter width2">
      <p class="originType">L</p>
      <h3 class="symbol">Sarah Binion</h3>
      <h2 class="name"> b OMG Surfeit is so awesome!!!!</h2>
    </div>
     
    <!-- <div class="link away" data-number="35"><a href="http://surfeit.me">Surfeit</a></div> -->
  </div>
 
</div> <!-- end content -->
  
  <%= javascript_include_tag "jquery-1.7.1.min" %>
<%= javascript_include_tag "jquery.isotope.min" %>
<%= javascript_include_tag "fake-element" %>
<%= javascript_include_tag "meny.min" %>
<script>
    $(function(){
    
      var $container = $('#container');
    
      $container.isotope({
        masonry: {
          columnWidth: 120
        },
        sortBy: 'number',
        getSortData: {
          number: function( $elem ) {
            var number = $elem.hasClass('element') ? 
              $elem.find('.number').text() :
              $elem.attr('data-number');
            return parseInt( number, 10 );
          },
          originType: function( $elem ) {
            var name = $elem.find('.originType'),
                itemText = name.length ? name : $elem;
            return itemText.text();
          }
        }
      });
	
	
      	//Kevin's custom filtering
      	//////////////////////////
      	var theChosen = [];
		
		// filter items when filter link is clicked
		$('#filters a').click(function(){
		var selector = $(this).attr('data-filter');
		if($.inArray(selector, theChosen) == -1){
		  theChosen.push(selector);
		  $(this).addClass('selected');
		  }
		  else{
			  var index = theChosen.indexOf(selector);
			  theChosen.splice(index, 1);
			  $(this).removeClass('selected');
		  }
	
		var selected = '';
		  for (i = 0; i < theChosen.length; i++)
		  {
		  	if (i == (theChosen.length - 1)){
			  	selected = selected + theChosen[i];
			}
			else {
				selected = selected + theChosen[i] + ', ';
			}
		  };
		  if(theChosen.length == 0){
			selected = '*';
		  };
		  
		  $container.isotope({ filter: selected});
		  return false;
		});
      
       $('#prepend a').click(function(){
        var $newEls = $( fakeElement.getGroup() );
        $container
          .prepend( $newEls ).isotope('reloadItems').isotope({ sortBy: 'original-order' })
          // set sort back to symbol for inserting
          .isotope('option', { sortBy: 'symbol' });

        return false;
      });

    
      
      /*
var $optionSets = $('#options .option-set'),
          $optionLinks = $optionSets.find('a');

      $optionLinks.click(function(){
        var $this = $(this);
        // don't proceed if already selected
        if ( $this.hasClass('selected') ) {
          $this.removeClass('selected')
          return false;
        }
        var $optionSet = $this.parents('.option-set');
        
        //mark button as selected
        $this.addClass('selected');
  
        // make option object dynamically, i.e. { filter: '.my-filter-class' }
        var options = {},
            key = $optionSet.attr('data-option-key'),
            value = $this.attr('data-option-value');
        // parse 'false' as false boolean
        value = value === 'false' ? false : value;
        options[ key ] = value;
        if ( key === 'layoutMode' && typeof changeLayoutMode === 'function' ) {
          // changes in layout modes need extra logic
          changeLayoutMode( $this, options )
        } else {
          // otherwise, apply new options
          $container.isotope( options );
        }
        
        return false;
      });
*/
    
   });
   
   
   //Custom jQuery --Kevin
   ///////////////////////
   $(".stache").on("click", function(){
	   $(this).css({
		   opacity: "1",
	   });
   });
   
   var tempWidth = '';
   var tempHeight = '';
   var tempTransform = '';
   var tempZIndex = '';
  
  
   //smokeScreen
   $(".smokeScreen").each(function(){
		$(this).hover(
		function() {
		$(this).stop().animate({"opacity": ".80"}, "slow");
		},
		function() {
		$(this).stop().animate({"opacity": "0"}, "slow");
		});
	});
  
   //expansion
   $(".expand").on("click", function(){
	   
   	   tempWidth = $(this).parent().parent().css("width");
   	   tempHeight = $(this).parent().parent().css("height");
   	   tempTransform = $(this).parent().parent().css("webkitTransform");
   	   tempZIndex = $(this).parent().parent().css("zIndex");
	   $(this).parent().parent().css({webkitTransform: "", left: "23%", width: "700px", height: "700px", zIndex: "5"});
	   $(".blackout").css({webkitTransform: "", zIndex: "4", width: "100%", height: "100%", opacity: ".80"});
	   $(this).css({display: "none"});
	   $(".shrinkRay").css({display: "block"});   
	   if($(this).parent().parent().hasClass("twitter") == true){
		   $(this).parent().parent().addClass("expanded");
	   };
	  
   });
   
   $(".shrinkRay").on("click", function(){
	   
	 $(".blackout").css({zIndex: "0", width: "0px", height: "0px"});
	 $(this).parent().parent().css({webkitTransform: tempTransform, left: "0px", width: tempWidth, height: tempHeight, zIndex: tempZIndex});
	 $(this).parent().parent().removeClass("expanded");
	 $("#container").isotope({ sortBy: 'original-order' });
	 $(".shrinkRay").css({display: "none"});
	 $(".expand").css({display: "block"}); 
   });
  </script> 
  <script>
			// Create an instance of Meny
			var meny = Meny.create({
				// The element that will be animated in from off screen
				menuElement: document.querySelector( '.meny' ),

				// The contents that gets pushed aside while Meny is active
				contentsElement: document.querySelector( '.contents' ),

				// [optional] The alignment of the menu (top/right/bottom/left)
				position: Meny.getQuery().p || 'left',

				// [optional] The height of the menu (when using top/bottom position)
				height: 200,

				// [optional] The width of the menu (when using left/right position)
				width: 260,

				// [optional] Distance from mouse (in pixels) when menu should open
				threshold: 40
			});
			
			

			// API Methods:
			// meny.open();
			// meny.close();
			// meny.isOpen();
			
			// Events:
			// meny.addEventListener( 'open', function(){ console.log( 'open' ); } );
			// meny.addEventListener( 'close', function(){ console.log( 'close' ); } );

			// Embed an iframe if a URL is passed in
			if( Meny.getQuery().u && Meny.getQuery().u.match( /^http/gi ) ) {
				var contents = document.querySelector( '.contents' );
				contents.style.padding = '0px';
				contents.innerHTML = '<div class="cover"></div><iframe src="'+ Meny.getQuery().u +'" style="width: 100%; height: 100%; border: 0; position: absolute;"></iframe>';
			}
  </script>

</body>
